
Console Output

Started by user Prajwal
Obtained Jenkinsfile from git https://github.com/Prajwal027/Jenkins_Pipeline
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/lib/jenkins/workspace/Jenkins_miniproject@2
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/Jenkins_miniproject@2/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/Prajwal027/Jenkins_Pipeline # timeout=10
Fetching upstream changes from https://github.com/Prajwal027/Jenkins_Pipeline
 > git --version # timeout=10
 > git --version # 'git version 2.34.1'
 > git fetch --tags --force --progress -- https://github.com/Prajwal027/Jenkins_Pipeline +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
Checking out Revision 436715f25a4243e31aeee80dbaad3081f6b0210c (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 436715f25a4243e31aeee80dbaad3081f6b0210c # timeout=10
Commit message: "Update uni_test_delete.py"
 > git rev-list --no-walk 4e2f5907dd6e194c690a5a5aab3eecb7513f59c1 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Checkout)
[Pipeline] git
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/Jenkins_miniproject@2/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/Prajwal027/Jenkins_Pipeline.git # timeout=10
Fetching upstream changes from https://github.com/Prajwal027/Jenkins_Pipeline.git
 > git --version # timeout=10
 > git --version # 'git version 2.34.1'
 > git fetch --tags --force --progress -- https://github.com/Prajwal027/Jenkins_Pipeline.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
Checking out Revision 436715f25a4243e31aeee80dbaad3081f6b0210c (refs/remotes/origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 436715f25a4243e31aeee80dbaad3081f6b0210c # timeout=10
 > git branch -a -v --no-abbrev # timeout=10
 > git branch -D master # timeout=10
 > git checkout -b master 436715f25a4243e31aeee80dbaad3081f6b0210c # timeout=10
Commit message: "Update uni_test_delete.py"
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Build)
[Pipeline] sh
+ python3 -m venv venv
[Pipeline] sh
+ source venv/bin/activate
++ deactivate nondestructive
++ '[' -n '' ']'
++ '[' -n '' ']'
++ '[' -n /bin/bash -o -n '' ']'
++ hash -r
++ '[' -n '' ']'
++ unset VIRTUAL_ENV
++ unset VIRTUAL_ENV_PROMPT
++ '[' '!' nondestructive = nondestructive ']'
++ VIRTUAL_ENV=/var/lib/jenkins/workspace/Jenkins_miniproject@2/venv
++ export VIRTUAL_ENV
++ _OLD_VIRTUAL_PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin
++ PATH=/var/lib/jenkins/workspace/Jenkins_miniproject@2/venv/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin
++ export PATH
++ '[' -n '' ']'
++ '[' -z '' ']'
++ _OLD_VIRTUAL_PS1=
++ PS1='(venv) '
++ export PS1
++ VIRTUAL_ENV_PROMPT='(venv) '
++ export VIRTUAL_ENV_PROMPT
++ '[' -n /bin/bash -o -n '' ']'
++ hash -r
[Pipeline] script
[Pipeline] {
[Pipeline] sh
+ pip install -r requirements.txt
Defaulting to user installation because normal site-packages is not writeable
Requirement already satisfied: flask==3.0.2 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 1)) (3.0.2)
Requirement already satisfied: Werkzeug>=3.0.0 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 2)) (3.0.1)
Requirement already satisfied: itsdangerous>=2.1.2 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 3)) (2.1.2)
Requirement already satisfied: blinker>=1.6.2 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 4)) (1.7.0)
Requirement already satisfied: jinja2>=3.1.2 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 5)) (3.1.3)
Requirement already satisfied: click>=8.1.3 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 6)) (8.1.7)
Requirement already satisfied: MarkupSafe>=2.0 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 7)) (2.1.5)
Requirement already satisfied: flask-SQLAlchemy==3.1.1 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 8)) (3.1.1)
Requirement already satisfied: sqlalchemy>=2.0.16 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 9)) (2.0.28)
Requirement already satisfied: typing-extensions>=4.6.0 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 10)) (4.10.0)
Requirement already satisfied: greenlet!=0.4.17 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 11)) (3.0.3)
Requirement already satisfied: pylint in /var/lib/jenkins/.local/lib/python3.10/site-packages (from -r requirements.txt (line 12)) (3.1.0)
Requirement already satisfied: astroid<=3.2.0-dev0,>=3.1.0 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from pylint->-r requirements.txt (line 12)) (3.1.0)
Requirement already satisfied: platformdirs>=2.2.0 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from pylint->-r requirements.txt (line 12)) (4.2.0)
Requirement already satisfied: tomli>=1.1.0 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from pylint->-r requirements.txt (line 12)) (2.0.1)
Requirement already satisfied: tomlkit>=0.10.1 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from pylint->-r requirements.txt (line 12)) (0.12.4)
Requirement already satisfied: isort!=5.13.0,<6,>=4.2.5 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from pylint->-r requirements.txt (line 12)) (5.13.2)
Requirement already satisfied: dill>=0.2 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from pylint->-r requirements.txt (line 12)) (0.3.8)
Requirement already satisfied: mccabe<0.8,>=0.6 in /var/lib/jenkins/.local/lib/python3.10/site-packages (from pylint->-r requirements.txt (line 12)) (0.7.0)
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Test)
[Pipeline] sh
+ python3 tests/uni_test.py
..
----------------------------------------------------------------------
Ran 2 tests in 0.076s

OK
[Pipeline] sh
+ python3 tests/uni_test_edit.py
/var/lib/jenkins/.local/lib/python3.10/site-packages/flask_sqlalchemy/query.py:30: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
  rv = self.get(ident)
..
----------------------------------------------------------------------
Ran 2 tests in 0.101s

OK
[Pipeline] sh
+ python3 tests/uni_test_delete.py
/var/lib/jenkins/workspace/Jenkins_miniproject@2/tests/uni_test_delete.py:23: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
  existing_student = Student.query.get(student_id)
/var/lib/jenkins/.local/lib/python3.10/site-packages/flask_sqlalchemy/query.py:30: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
  rv = self.get(ident)
/var/lib/jenkins/workspace/Jenkins_miniproject@2/tests/uni_test_delete.py:31: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
  deleted_student = Student.query.get(student_id)
.
----------------------------------------------------------------------
Ran 1 test in 0.126s

OK
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Static code Analysis)
[Pipeline] sh
+ pylint flask_sql1.py tests/uni_test_delete.py tests/uni_test_edit.py tests/uni_test.py
************* Module flask_sql1
flask_sql1.py:60:0: C0301: Line too long (104/100) (line-too-long)
flask_sql1.py:15:0: R0903: Too few public methods (0/2) (too-few-public-methods)
************* Module tests.uni_test_delete
tests/uni_test_delete.py:5:0: C0413: Import "from flask_sql1 import app, db, Student" should be placed at the top of the module (wrong-import-position)
************* Module tests.uni_test_edit
tests/uni_test_edit.py:9:0: C0301: Line too long (101/100) (line-too-long)
tests/uni_test_edit.py:5:0: C0413: Import "from flask_sql1 import app" should be placed at the top of the module (wrong-import-position)
************* Module tests.uni_test
tests/uni_test.py:5:0: C0413: Import "from flask_sql1 import app" should be placed at the top of the module (wrong-import-position)

-----------------------------------
Your code has been rated at 9.53/10

[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
ERROR: script returned exit code 24
Finished: FAILURE
